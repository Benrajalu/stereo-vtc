/*!
 * VERSION: 0.1.2
 * DATE: 2014-07-17
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * PhysicsPropsPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://www.greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=function(t,e,i,n,r,s){this.p=e,this.f="function"==typeof t[e],this.start=this.value=this.f?t[e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3)]():parseFloat(t[e]),this.velocity=i||0,this.v=this.velocity/s,n||0==n?(this.acceleration=n,this.a=this.acceleration/(s*s)):this.acceleration=this.a=0,this.friction=1-(r||0)},e=Math.random(),i=_gsScope._gsDefine.globals.com.greensock.core.Animation._rootFramesTimeline,n=_gsScope._gsDefine.plugin({propName:"physicsProps",version:"0.1.2",API:2,init:function(e,n,r){this._target=e,this._tween=r,this._runBackwards=r.vars.runBackwards===!0,this._step=0;for(var s,o,a=r._timeline,l=0;a._timeline;)a=a._timeline;this._stepsPerTimeUnit=a===i?1:30,this._props=[];for(s in n)o=n[s],(o.velocity||o.acceleration)&&(this._props[l++]=new t(e,s,o.velocity,o.acceleration,o.friction,this._stepsPerTimeUnit),this._overwriteProps[l]=s,o.friction&&(this._hasFriction=!0));return!0},set:function(){var t,e,i,n,r,s,o=this._props.length,a=this._tween._time,l=this._target;if(this._runBackwards&&(a=this._tween._duration-a),this._hasFriction){if(a*=this._stepsPerTimeUnit,i=(0|a)-this._step,n=a%1,i>=0)for(;--o>-1;){for(t=this._props[o],r=i;--r>-1;)t.v+=t.a,t.v*=t.friction,t.value+=t.v;e=t.value+t.v*n,t.r&&(e=Math.round(e)),t.f?l[t.p](e):l[t.p]=e}else for(;--o>-1;){for(t=this._props[o],r=-i;--r>-1;)t.value-=t.v,t.v/=t.friction,t.v-=t.a;e=t.value+t.v*n,t.r&&(e=0|e+(0>e?-.5:.5)),t.f?l[t.p](e):l[t.p]=e}this._step+=i}else for(s=.5*a*a;--o>-1;)t=this._props[o],e=t.start+(t.velocity*a+t.acceleration*s),t.r&&(e=Math.round(e)),t.f?l[t.p](e):l[t.p]=e}}),r=n.prototype;r._kill=function(t){for(var e=this._props.length;--e>-1;)this._props[e].p in t&&this._props.splice(e,1);return this._super._kill(t)},r._roundProps=function(t,e){for(var i=this._props.length;--i>-1;)("physicsProps"in t||this._props[i].p in t)&&(this._props[i].r=e)},n._autoCSS=!0,n._cssRegister=function(){var t=_gsScope._gsDefine.globals.CSSPlugin;if(t){var i=t._internals,r=i._parseToProxy,s=i._setPluginRatio,o=i.CSSPropTween;i._registerComplexSpecialProp("physicsProps",{parser:function(t,i,a,l,u,h){h=new n;var c,p,f={};i.scale&&(i.scaleX=i.scaleY=i.scale,delete i.scale);for(c in i)f[c]=e++;return p=r(t,f,l,u,h),u=new o(t,"physicsProps",0,0,p.pt,2),u.data=p,u.plugin=h,u.setRatio=s,h._onInitTween(p.proxy,i,l._tween),u}})}}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();