/*!
 * VERSION: 0.1.6
 * DATE: 2014-07-17
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var e,t,n=/(\d|\.)+/g,i=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],r={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},a=function(e){return""===e||null==e||"none"===e?r.transparent:r[e]?r[e]:"number"==typeof e?[e>>16,255&e>>8,255&e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)+e.charAt(3)+e.charAt(3)),e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e]):e.match(n)||r.transparent},o=function(t,n,r){if(!e&&(e=_gsScope.ColorFilter||_gsScope.createjs.ColorFilter,!e))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var o,s,l,c,u,d=t.filters||[],p=d.length;--p>-1;)if(d[p]instanceof e){s=d[p];break}if(s||(s=new e,d.push(s),t.filters=d),l=s.clone(),null!=n.tint)o=a(n.tint),c=null!=n.tintAmount?Number(n.tintAmount):1,l.redOffset=Number(o[0])*c,l.greenOffset=Number(o[1])*c,l.blueOffset=Number(o[2])*c,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-c;else for(u in n)"exposure"!==u&&"brightness"!==u&&(l[u]=Number(n[u]));for(null!=n.exposure?(l.redOffset=l.greenOffset=l.blueOffset=255*(Number(n.exposure)-1),l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1):null!=n.brightness&&(c=Number(n.brightness)-1,l.redOffset=l.greenOffset=l.blueOffset=c>0?255*c:0,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-Math.abs(c)),p=8;--p>-1;)u=i[p],s[u]!==l[u]&&r._addTween(s,u,s[u],l[u],"easel_colorFilter");if(r._overwriteProps.push("easel_colorFilter"),!t.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+t},s=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],l=.212671,c=.71516,u=.072169,d=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var n,i,r=[],a=0,o=0;for(n=0;4>n;n++){for(i=0;5>i;i++)o=4===i?e[a+4]:0,r[a+i]=e[a]*t[i]+e[a+1]*t[i+5]+e[a+2]*t[i+10]+e[a+3]*t[i+15]+o;a+=5}return r},p=function(e,t){if(isNaN(t))return e;var n=1-t,i=n*l,r=n*c,a=n*u;return d([i+t,r,a,0,0,i,r+t,a,0,0,i,r,a+t,0,0,0,0,0,1,0],e)},f=function(e,t,n){isNaN(n)&&(n=1);var i=a(t),r=i[0]/255,o=i[1]/255,s=i[2]/255,p=1-n;return d([p+n*r*l,n*r*c,n*r*u,0,0,n*o*l,p+n*o*c,n*o*u,0,0,n*s*l,n*s*c,p+n*s*u,0,0,0,0,0,1,0],e)},h=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),i=Math.sin(t);return d([l+n*(1-l)+i*-l,c+n*-c+i*-c,u+n*-u+i*(1-u),0,0,l+n*-l+.143*i,c+n*(1-c)+.14*i,u+n*-u+i*-.283,0,0,l+n*-l+i*-(1-l),c+n*-c+i*c,u+n*(1-u)+i*u,0,0,0,0,0,1,0,0,0,0,0,1],e)},m=function(e,t){return isNaN(t)?e:(t+=.01,d([t,0,0,0,128*(1-t),0,t,0,0,128*(1-t),0,0,t,0,128*(1-t),0,0,0,1,0],e))},v=function(e,n,i){if(!t&&(t=_gsScope.ColorMatrixFilter||_gsScope.createjs.ColorMatrixFilter,!t))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var r,a,o,l=e.filters||[],c=l.length;--c>-1;)if(l[c]instanceof t){o=l[c];break}for(o||(o=new t(s.slice()),l.push(o),e.filters=l),a=o.matrix,r=s.slice(),null!=n.colorize&&(r=f(r,n.colorize,Number(n.colorizeAmount))),null!=n.contrast&&(r=m(r,Number(n.contrast))),null!=n.hue&&(r=h(r,Number(n.hue))),null!=n.saturation&&(r=p(r,Number(n.saturation))),c=r.length;--c>-1;)r[c]!==a[c]&&i._addTween(a,c,a[c],r[c],"easel_colorMatrixFilter");if(i._overwriteProps.push("easel_colorMatrixFilter"),!e.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+e;i._matrix=a};_gsScope._gsDefine.plugin({propName:"easel",priority:-1,version:"0.1.6",API:2,init:function(e,t){this._target=e;var n,i,r,a;for(n in t)"colorFilter"===n||"tint"===n||"tintAmount"===n||"exposure"===n||"brightness"===n?r||(o(e,t.colorFilter||t,this),r=!0):"saturation"===n||"contrast"===n||"hue"===n||"colorize"===n||"colorizeAmount"===n?a||(v(e,t.colorMatrixFilter||t,this),a=!0):"frame"===n?(this._firstPT=i={_next:this._firstPT,t:e,p:"gotoAndStop",s:e.currentFrame,f:!0,n:"frame",pr:0,type:0,r:!0},i.c="number"==typeof t[n]?t[n]-i.s:"string"==typeof t[n]?parseFloat(t[n].split("=").join("")):0,i._next&&(i._next._prev=i)):null!=e[n]&&(this._firstPT=i={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pr:0,type:0},i.s=i.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),i.c="number"==typeof t[n]?t[n]-i.s:"string"==typeof t[n]?parseFloat(t[n].split("=").join("")):0,i._next&&(i._next._prev=i));return!0},set:function(e){for(var t,n=this._firstPT,i=1e-6;n;)t=n.c*e+n.s,n.r?t=Math.round(t):i>t&&t>-i&&(t=0),n.f?n.t[n.p](t):n.t[n.p]=t,n=n._next;this._target.cacheID&&this._target.updateCache()}})}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();